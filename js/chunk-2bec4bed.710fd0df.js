(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2bec4bed"],{"159b":function(t,a,r){var e=r("da84"),c=r("fdbc"),i=r("17c2"),s=r("9112");for(var n in c){var o=e[n],u=o&&o.prototype;if(u&&u.forEach!==i)try{s(u,"forEach",i)}catch(l){u.forEach=i}}},"17c2":function(t,a,r){"use strict";var e=r("b727").forEach,c=r("a640"),i=r("ae40"),s=c("forEach"),n=i("forEach");t.exports=s&&n?[].forEach:function(t){return e(this,t,arguments.length>1?arguments[1]:void 0)}},4160:function(t,a,r){"use strict";var e=r("23e7"),c=r("17c2");e({target:"Array",proto:!0,forced:[].forEach!=c},{forEach:c})},"7db0":function(t,a,r){"use strict";var e=r("23e7"),c=r("b727").find,i=r("44d2"),s=r("ae40"),n="find",o=!0,u=s(n);n in[]&&Array(1)[n]((function(){o=!1})),e({target:"Array",proto:!0,forced:o||!u},{find:function(t){return c(this,t,arguments.length>1?arguments[1]:void 0)}}),i(n)},"813a":function(t,a,r){"use strict";var e=r("c86c"),c=r.n(e);c.a},a640:function(t,a,r){"use strict";var e=r("d039");t.exports=function(t,a){var r=[][t];return!!r&&e((function(){r.call(null,a||function(){throw 1},1)}))}},c86c:function(t,a,r){},d9a5:function(t,a,r){"use strict";r.r(a);var e=function(){var t=this,a=t.$createElement,r=t._self._c||a;return r("div",[r("div",{staticClass:"cart-bg"}),r("div",{staticClass:"cart-wrapper"},[r("p",[t._v("購物車")]),0==t.Cart.total?r("div",{staticClass:"empty-wrapper"},[r("h2",{staticClass:"cart-empty"},[t._v("－ 購物車無物品 －")]),r("a",{staticClass:"btn btn-green",attrs:{href:"#"}},[t._v("Shopping now")])]):t._e(),t.Cart.total>0?r("div",{staticClass:"row"},[r("div",{staticClass:"col-12 table-wrapper"},[r("table",{staticClass:"cart-table table mt-4"},[r("thead",{staticStyle:{width:"500px"}},[r("tr",[r("th",{attrs:{width:"50"}},[r("button",{staticClass:"btn btn-outline-danger",attrs:{type:"buttom"},on:{click:function(a){return a.stopPropagation(),t.deleteall(a)}}},[t._v("Clear")])]),r("th",{attrs:{width:"50"}}),r("th",[t._v("產品名稱")]),r("th",{attrs:{width:"100"}},[t._v("單價")]),r("th",{staticClass:"text-center",attrs:{width:"100"}},[t._v("數量")]),r("th",{attrs:{width:"100"}},[t._v("價格")])])]),r("tbody",t._l(t.Cart.carts,(function(a,e){return r("tr",{key:e},[r("td",{staticClass:"align-middle cancel-btn"},[r("button",{staticClass:"btn btn-outline-danger btn-sm",on:{click:function(r){return t.deleteCar(a.id)}}},[r("i",{staticClass:"far fa-trash-alt"})])]),r("td",{staticClass:"products-img"},[r("div",{staticClass:"cart-img"},[r("img",{staticClass:"img-fluid d-block",staticStyle:{width:"100%",height:"100%","background-size":"cover","background-position":"center"},attrs:{src:a.product.image,alt:""}})])]),r("td",[t._v(t._s(a.product.title))]),r("td",[t._v(t._s(t._f("currency")(a.product.price)))]),r("td",[r("div",{staticClass:"select_quantity"},[r("button",{staticClass:"minus",on:{click:function(r){return t.changeQty(a.product.id,e,-1)}}},[t._v("-")]),r("input",{staticClass:"quantity",attrs:{type:"number",placeholder:"1",min:"1",max:"100"},domProps:{value:a.qty}}),r("button",{staticClass:"plus",on:{click:function(r){return t.changeQty(a.product.id,e,1)}}},[t._v("+")])])]),r("td",{staticClass:"total-price"},[t._v(t._s(t._f("currency")(a.total)))])])})),0),r("tfoot",[r("tr",[r("td",{staticClass:"productimg"}),r("td",{staticClass:"text-right total-title",attrs:{colspan:"4"}},[t._v("總價")]),r("td",{staticClass:"text-right total-price"},[t._v(t._s(t._f("currency")(t.Cart.total)))])])])])]),r("div",{staticClass:"pay-wrapper ml-auto"},[r("router-link",{staticClass:"btn btn-payment",attrs:{to:"/ordercheck"}},[t._v("購物車結算")])],1)]):t._e()])])},c=[],i=(r("7db0"),r("4160"),r("159b"),{data:function(){return{Cart:[],products_qty:1}},methods:{gettoCar:function(){var t=this,a="https://vue-course-api.herokuapp.com/api/ace055165/cart";t.$http.get(a).then((function(a){t.Cart=a.data.data,t.Cart.carts.sort((function(t,a){return t.product.price-a.product.price})),t.Cart.carts.forEach((function(a){if(a.qty<1){var r="https://vue-course-api.herokuapp.com/api/ace055165/cart/".concat(a.id);t.$http.delete(r).then((function(){t.gettoCar()}))}})),t.isLoading=!1}))},deleteCar:function(t){var a=this,r="https://vue-course-api.herokuapp.com/api/ace055165/cart/".concat(t);a.$http.delete(r).then((function(t){a.gettoCar()}))},deleteall:function(){var t=this,a="https://vue-course-api.herokuapp.com/api/ace055165/cart";t.$http.get(a).then((function(a){a.data.data.carts.forEach((function(a){var r="https://vue-course-api.herokuapp.com/api/ace055165/cart/".concat(a.id);t.$http.delete(r).then((function(){t.gettoCar()}))}))}))},changeQty:function(t,a,r){this.products_qty+=r;var e=this,c="https://vue-course-api.herokuapp.com/api/ace055165/cart",i=e.Cart.carts.find((function(a){return a.product.id===t})),s=0;if(i){var n="https://vue-course-api.herokuapp.com/api/ace055165/cart/".concat(i.id);e.$http.delete(n).then((function(){})),s=+i.qty}var o={product_id:t,qty:s+r};e.$http.post(c,{data:o}).then((function(t){e.gettoCar()}))}},created:function(){this.gettoCar()}}),s=i,n=(r("813a"),r("2877")),o=Object(n["a"])(s,e,c,!1,null,"51bcee68",null);a["default"]=o.exports},fdbc:function(t,a){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-2bec4bed.710fd0df.js.map