(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-58b9eadb"],{"19f7":function(t,a,i){"use strict";var e=i("b8fb"),n=i.n(e);n.a},"2aa4":function(t,a,i){},"5eaf":function(t,a,i){"use strict";var e=i("2aa4"),n=i.n(e);n.a},"7db0":function(t,a,i){"use strict";var e=i("23e7"),n=i("b727").find,s=i("44d2"),r=i("ae40"),c="find",o=!0,u=r(c);c in[]&&Array(1)[c]((function(){o=!1})),e({target:"Array",proto:!0,forced:o||!u},{find:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),s(c)},a066:function(t,a,i){"use strict";i.r(a);var e=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",[i("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),i("div",{staticClass:"product-bg"}),i("div",{staticClass:"containter products-wrapper"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-3"},[i("ul",{staticClass:"products-category"},[t._m(0),i("li",{class:{active:t.flag0},on:{click:function(a){t.filterProducts(),t.greenChange(0)}}},[t._v("全部商品")]),i("li",{class:{active:t.flag1},on:{click:function(a){t.filterProducts("老人專用餐具"),t.greenChange(1)}}},[t._v("老年人專用餐具")]),i("li",{class:{active:t.flag2},on:{click:function(a){t.filterProducts("老人專用輪椅"),t.greenChange(2)}}},[t._v("老年人專用輪椅")]),i("li",{class:{active:t.flag3},on:{click:function(a){t.filterProducts("保健食品"),t.greenChange(3)}}},[t._v("健康保健食品")]),t._m(1)])]),i("div",{staticClass:"col-md-9"},[i("div",{staticClass:"products-list"},[i("div",{staticClass:"row"},t._l(t.displayProducts,(function(a,e){return i("div",{key:e,staticClass:"col-md-4",on:{click:function(i){return t.turnproduct(a.id,a.category)}}},[i("div",{staticClass:"products-card"},[i("div",{staticClass:"box-pic"},[i("img",{attrs:{src:t.displayProducts[e].image,alt:""}}),i("div",{staticClass:"loveAndCart"},[i("div",{staticClass:"love"},[i("i",{staticClass:"fas fa-heart fa-2x text-black",on:{click:function(i){return i.stopPropagation(),t.addtoFavorite(a)}}})]),i("div",{staticClass:"cart"},[i("i",{staticClass:"fas fa-shopping-cart fa-2x",on:{click:function(i){return i.stopPropagation(),t.addtoCar(a.id,1,a.title)}}})])])]),i("div",{staticClass:"box-text"},[i("span",[t._v(t._s(a.category))]),i("p",{staticClass:"h1"},[t._v(t._s(a.title))]),i("small",[t._v(t._s(t._f("currency")(a.origin_price)))]),i("p",{staticClass:"h2"},[t._v(t._s(t._f("currency")(a.price)))])])])])})),0)])])]),t.displayProducts.length>9||t.pagination.current_page>1?i("frontpagination",{attrs:{getpagination:t.pagination},on:{userpage:t.getpages}}):t._e()],1)],1)},n=[function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"all"},[i("p",[t._v("產品列表")])])},function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"form-group has-search mt-2"},[i("input",{staticClass:"search_box",attrs:{type:"text",placeholder:"Search"}}),i("span",{staticClass:"fa fa-search search_icon omouse"})])}],s=(i("4de4"),i("7db0"),i("ac1f"),i("5319"),function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",[i("div",{staticClass:"Pagination-wrapper"},[i("span",{staticClass:"left",class:{"not-active":!t.getpagination.has_pre},on:{click:function(a){return a.preventDefault(),t.updatapage(t.getpagination.current_page-1)}}},[i("a",{attrs:{href:"javascript:;"}},[t._v("<<")])]),i("ul",t._l(t.getpagination.total_pages,(function(a){return i("li",{key:t.n=a,class:{pageGreen:t.getpagination.current_page===a},on:{click:function(i){return i.preventDefault(),t.updatapage(a)}}},[t._v(t._s(a))])})),0),i("span",{class:{"not-active":!t.getpagination.has_next},on:{click:function(a){return a.preventDefault(),t.updatapage(t.getpagination.current_page+1)}}},[i("a",{attrs:{href:"javascript:;"}},[t._v(">>")])])])])}),r=[],c={props:["getpagination"],methods:{updatapage:function(t){this.$emit("userpage",t)}}},o=c,u=(i("5eaf"),i("2877")),p=Object(u["a"])(o,s,r,!1,null,null,null),l=p.exports,d={data:function(){return{products:[],pagesproducts:[],displayProducts:[],pagination:{},isLoading:!1,flag0:!0,flag1:!1,flag2:!1,flag3:!1,favorites:[],Cart:[]}},methods:{getProducts:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a="https://vue-course-api.herokuapp.com/api/ace055165/products?page=".concat(t),i=this;i.isLoading=!0,this.$http.get(a).then((function(t){console.log(t.data),i.products=t.data.products,i.displayProducts=i.products,i.isLoading=!1,i.pagination=t.data.pagination}))},filterProducts:function(t){var a=this;this.displayProducts=this.products.filter((function(i){return a.pagination.current_page=1,t?i.category==t:i}))},greenChange:function(t){this.flag0=!1,this.flag1=!1,this.flag2=!1,this.flag3=!1,0==t?this.flag0=!0:1==t?this.flag1=!0:2==t?this.flag2=!0:3==t&&(this.flag3=!0)},getpages:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=this,i="https://vue-course-api.herokuapp.com/api/ace055165/products?page=".concat(t);a.$http.get(i).then((function(t){a.displayProducts=t.data.products,a.pagination=t.data.pagination}))},turnproduct:function(t,a){this.$router.replace({name:"frontProductIn",query:{id:t,category:a}})},addtoFavorite:function(t){var a=this;if(a.favorites.length>0){var i=a.favorites.find((function(a){return t.id===a.id}));i||a.favorites.push(t)}else a.favorites.push(t);localStorage.setItem("Favorites",JSON.stringify(a.favorites)),this.gettoFavorite()},gettoFavorite:function(){var t=this;t.favorites=JSON.parse(localStorage.getItem("Favorites"))||[]},gettoCart:function(){var t=this,a="https://vue-course-api.herokuapp.com/api/ace055165/cart";t.$http.get(a).then((function(a){t.Cart=a.data.data}))},addtoCar:function(t,a,i){var e=this,n="https://vue-course-api.herokuapp.com/api/ace055165/cart";e.$http.get(n).then((function(s){e.Cart=s.data.data;var r=e.Cart.carts.find((function(t){return t.product.title===i})),c=0;if(r){var o="https://vue-course-api.herokuapp.com/api/ace055165/cart/".concat(r.id);e.$http.delete(o).then((function(){})),c=+r.qty}var u={product_id:t,qty:c+a};e.$http.post(n,{data:u}).then((function(t){e.gettoCart()}))}))}},components:{frontpagination:l},created:function(){this.getProducts(),this.gettoFavorite()}},f=d,g=(i("19f7"),Object(u["a"])(f,e,n,!1,null,"f5ca14c6",null));a["default"]=g.exports},b8fb:function(t,a,i){}}]);
//# sourceMappingURL=chunk-58b9eadb.31482412.js.map